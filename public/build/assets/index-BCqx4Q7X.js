import{r as n,j as e,m as I,L}from"./app-JmgFQYuh.js";import{S as G,D as A}from"./delete-confirmation-form-C4zPHeco.js";import{I as b}from"./input-error-Bo-tEO9-.js";import{c as B,B as m}from"./proxy-Chts54hC.js";import{C as F}from"./card-DT0nGPEP.js";import{D as H,a as O,b as M,c as R,d as K}from"./dialog-if27zyBq.js";import{I as q}from"./input-cJPmCVRW.js";import{L as N}from"./label-0qJA6G8y.js";import{T as P,a as $,b as j,c as p,d as z,e as d}from"./table-CjkwNe_m.js";import{A as J}from"./app-layout-NhJkajpx.js";import{L as Q}from"./loader-circle-CVFT_Kca.js";import"./index-IZSJ5RDV.js";import"./use-mobile-navigation-DIUaG5gK.js";import"./index-6vwRprEj.js";import"./react-icons.esm-D7I2j-HM.js";import"./chart-column-CC1DTBd9.js";import"./baby-C6sR3SSx.js";const k=n.forwardRef(({className:l,...t},c)=>e.jsx("textarea",{className:B("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",l),ref:c,...t}));k.displayName="Textarea";function pe({gejala:l,breadcrumb:t,titlePage:c,can:s}){const v=n.useMemo(()=>t?t.map(a=>({title:a.title,href:a.href})):[],[t]),{data:h,setData:o,post:D,put:y,processing:x,errors:f}=I({id:null,nama:"",deskripsi:""}),[u,g]=n.useState(null),T=a=>{a.preventDefault(),u==null?D(route("admin.gejala.store"),{preserveState:!0,onSuccess:()=>{o({id:null,nama:"",deskripsi:""}),i(!1)},onError:r=>{console.error(r)}}):y(route("admin.gejala.update",{gejala:u}),{preserveState:!0,onSuccess:()=>{o({id:null,nama:"",deskripsi:""}),g(null),i(!1)},onError:r=>{console.error(r)}})},[w,i]=n.useState(!1),C=a=>{if(a){const r=l.filter(E=>E.id===a,[]);g(r[0].id),r&&o({id:r[0].id,nama:r[0].nama,deskripsi:r[0].deskripsi}),i(!0)}},[U,S]=n.useState(!1);return e.jsxs(J,{breadcrumbs:v,children:[e.jsx(L,{title:c??"Gejala"}),e.jsx(F,{children:e.jsxs("div",{className:"px-2",children:[e.jsxs("div",{className:"mb-4 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsx("h2",{className:"text-lg font-bold md:text-xl",children:"Gejala Nutrisi Anak"}),e.jsx("div",{className:"flex flex-col space-y-2 sm:flex-row sm:space-y-0 sm:space-x-2",children:(s==null?void 0:s.add)&&e.jsx(m,{variant:"default",type:"button",className:"cursor-pointer",onClick:()=>i(!0),children:"Tambah Data"})})]}),e.jsx("div",{className:"overflow-x-auto rounded-sm border",children:e.jsxs(P,{className:"min-w-full",children:[e.jsx($,{children:e.jsxs(j,{children:[e.jsx(p,{className:"cursor-pointer",children:"no"}),e.jsx(p,{className:"cursor-pointer",children:"Nama"}),e.jsx(p,{className:"cursor-pointer",children:"Keterangan"}),((s==null?void 0:s.delete)||(s==null?void 0:s.edit))&&e.jsx(p,{className:"cursor-pointer",children:"Aksi"})]})}),e.jsx(z,{children:l.length>0?l.map((a,r)=>e.jsxs(j,{children:[e.jsx(d,{children:r+1}),e.jsx(d,{children:a.nama}),e.jsx(d,{children:a.deskripsi}),((s==null?void 0:s.edit)||(s==null?void 0:s.delete))&&e.jsx(d,{children:e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[(s==null?void 0:s.edit)&&e.jsxs(m,{type:"button",variant:"default",tooltip:"edit",onClick:()=>C(a.id),className:"border border-chart-4 bg-chart-4",children:[" ",e.jsx(G,{})," "]}),(s==null?void 0:s.delete)&&e.jsx(A,{title:`Hapus gejala ${a.id}`,id:a.id,url:route("admin.gejala.destroy",{gejala:a.id}),setOpenDialog:S})]})})]},a.id)):e.jsx(j,{children:e.jsx(d,{colSpan:4,className:"py-4 text-center",children:"No data found"})})})]})})]})}),e.jsx(H,{open:w,onOpenChange:i,children:e.jsxs(O,{children:[e.jsx(M,{children:e.jsxs(R,{children:[u?"Edit":"Tambah"," Gejala"]})}),e.jsxs("form",{className:"space-y-4",onSubmit:T,children:[e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(N,{htmlFor:"nama",className:"text-sm font-medium",children:"Nama Gejala"}),e.jsx(q,{type:"text",value:h.nama,onChange:a=>o("nama",a.target.value),id:"nama",name:"nama",className:"input",disabled:x,placeholder:"Masukkan nama gejala"}),e.jsx(b,{message:f.nama,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(N,{htmlFor:"deskripsi",className:"text-sm font-medium",children:"Keterangan"}),e.jsx(k,{value:h.deskripsi,onChange:a=>o("deskripsi",a.target.value),id:"deskripsi",name:"deskripsi",className:"input",disabled:x,placeholder:"Masukkan deskripsi gejala"}),e.jsx(b,{message:f.deskripsi,className:"mt-2"})]})]}),e.jsxs(K,{children:[e.jsx(m,{type:"button",variant:"secondary",onClick:()=>i(!1),children:"Batal"}),e.jsxs(m,{type:"submit",children:[x&&e.jsx(Q,{className:"h-4 w-4 animate-spin"}),"Simpan"]})]})]})]})})]})}export{pe as default};
