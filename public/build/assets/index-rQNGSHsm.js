import{r as i,m as T,j as e,L as w}from"./app-3gSJrcYZ.js";import{S as E,D as I}from"./delete-confirmation-form-CC7Y6Y-t.js";import{I as L}from"./input-error-DBS-SoJN.js";import{B as o}from"./proxy-DPZ7lxn4.js";import{C as G}from"./card-CfsoJ79S.js";import{D as A,a as B,b as H,c as O,d as F}from"./dialog-BBLPHtgk.js";import{I as M}from"./input-BpRJn_e0.js";import{L as R}from"./label-DRUE_Rhl.js";import{T as q,a as P,b as x,c,d as $,e as d}from"./table-dzeqxhJH.js";import{A as z}from"./app-layout-BUKqE2A9.js";import{L as J}from"./loader-circle-CYQ1Duwr.js";import"./index-BQra9_YX.js";import"./use-mobile-navigation-Bj26Qtq-.js";import"./index-p9Eo1eoC.js";import"./react-icons.esm-CIPlWgAV.js";import"./baby-DDzDU0Wx.js";function de({gejala:n,breadcrumb:m,titlePage:h,can:s}){const f=i.useMemo(()=>m?m.map(a=>({title:a.title,href:a.href})):[],[m]),{data:g,setData:t,post:N,put:b,processing:u,errors:D}=T({id:null,nama:"",deskripsi:""}),[p,j]=i.useState(null),v=a=>{a.preventDefault(),p==null?N(route("admin.gejala.store"),{preserveState:!0,onSuccess:()=>{t({id:null,nama:"",deskripsi:""}),l(!1)},onError:r=>{console.error(r)}}):b(route("admin.gejala.update",{gejala:p}),{preserveState:!0,onSuccess:()=>{t({id:null,nama:"",deskripsi:""}),j(null),l(!1)},onError:r=>{console.error(r)}})},[y,l]=i.useState(!1),k=a=>{if(a){const r=n.filter(C=>C.id===a,[]);j(r[0].id),r&&t({id:r[0].id,nama:r[0].nama,deskripsi:r[0].deskripsi}),l(!0)}},[K,S]=i.useState(!1);return e.jsxs(z,{breadcrumbs:f,children:[e.jsx(w,{title:h??"Gejala"}),e.jsx(G,{children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"mb-4 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsx("h2",{className:"text-lg font-bold md:text-xl",children:"Gejala Nutrisi Anak"}),e.jsx("div",{className:"flex flex-col space-y-2 sm:flex-row sm:space-y-0 sm:space-x-2",children:(s==null?void 0:s.add)&&e.jsx(o,{variant:"default",type:"button",className:"cursor-pointer",onClick:()=>l(!0),children:"Tambah Data"})})]}),e.jsx("div",{className:"overflow-x-auto rounded-sm border",children:e.jsxs(q,{className:"min-w-full",children:[e.jsx(P,{children:e.jsxs(x,{children:[e.jsx(c,{className:"cursor-pointer",children:"no"}),e.jsx(c,{className:"cursor-pointer",children:"Nama"}),((s==null?void 0:s.delete)||(s==null?void 0:s.edit))&&e.jsx(c,{className:"cursor-pointer",children:"Aksi"})]})}),e.jsx($,{children:n.length>0?n.map((a,r)=>e.jsxs(x,{children:[e.jsx(d,{children:r+1}),e.jsx(d,{children:a.nama}),((s==null?void 0:s.edit)||(s==null?void 0:s.delete))&&e.jsx(d,{children:e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[(s==null?void 0:s.edit)&&e.jsxs(o,{type:"button",variant:"default",tooltip:"edit",onClick:()=>k(a.id),className:"border border-chart-4 bg-chart-4",children:[" ",e.jsx(E,{})," "]}),(s==null?void 0:s.delete)&&e.jsx(I,{title:`Hapus gejala ${a.id}`,id:a.id,url:route("admin.gejala.destroy",{gejala:a.id}),setOpenDialog:S})]})})]},a.id)):e.jsx(x,{children:e.jsx(d,{colSpan:4,className:"py-4 text-center",children:"No data found"})})})]})})]})}),e.jsx(A,{open:y,onOpenChange:l,children:e.jsxs(B,{children:[e.jsx(H,{children:e.jsxs(O,{children:[p?"Edit":"Tambah"," Gejala"]})}),e.jsxs("form",{className:"space-y-4",onSubmit:v,children:[e.jsx("div",{className:"grid gap-4",children:e.jsxs("div",{className:"grid gap-2",children:[e.jsx(R,{htmlFor:"nama",className:"text-sm font-medium",children:"Nama Gejala"}),e.jsx(M,{type:"text",value:g.nama,onChange:a=>t("nama",a.target.value),id:"nama",name:"nama",className:"input",disabled:u,placeholder:"Masukkan nama gejala"}),e.jsx(L,{message:D.nama,className:"mt-2"})]})}),e.jsxs(F,{children:[e.jsx(o,{type:"button",variant:"secondary",onClick:()=>l(!1),children:"Batal"}),e.jsxs(o,{type:"submit",children:[u&&e.jsx(J,{className:"h-4 w-4 animate-spin"}),"Simpan"]})]})]})]})})]})}export{de as default};
