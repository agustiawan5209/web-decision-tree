import{r as s,m as I,j as e,L,$ as O}from"./app-DcneQE3y.js";import{C as R,D as $}from"./detail-pemeriksaan-B1bH3KbY.js";import{B as h}from"./proxy-CepMwaQ6.js";import{I as q}from"./input-CS08_VC6.js";import{S as A,a as E,b as H,c as M,e as S,f as N,d as j}from"./select-1PkxQEl0.js";import{b as w,e as U,T as K,a as V,c as l,d as z}from"./table-D05A7aNV.js";import{U as F}from"./user-auth-layout-ClhD-n-S.js";import"./delete-confirmation-form-CTpjP0vC.js";import"./dialog-Cmz6VoZY.js";import"./index-DIYsINuK.js";import"./use-mobile-navigation-PdNF5KYm.js";import"./index-Q_OI6t_I.js";import"./loader-circle-BZ1rsAcM.js";import"./eye-Dc-mPyU_.js";import"./check-BQJQqpja.js";import"./react-icons.esm-a2hNxGTB.js";import"./main-layout-SOpBrj9E.js";import"./sprout-DDfE-I7C.js";function pe({pemeriksaan:n,breadcrumb:p,filter:r,statusLabel:y,can:T}){s.useMemo(()=>p?p.map(a=>({title:a.title,href:a.href})):[],[p]);const{get:t,processing:m}=I(),[c,C]=s.useState((r==null?void 0:r.q)??""),[u,b]=s.useState((r==null?void 0:r.date)??""),[d,f]=s.useState((r==null?void 0:r.order_by)??""),[o,P]=s.useState((r==null?void 0:r.per_page)??"10"),[G,J]=s.useState(!1),k=s.useMemo(()=>({q:c.trim(),per_page:o,order_by:d,date:u}),[c,o,d,u]),i=s.useCallback(()=>{const a=c.trim(),g=u.trim(),x=parseInt(o.toString());(a||g||!isNaN(x))&&t(route("guest.klasifikasi.index",k),{preserveState:!0,preserveScroll:!0,replace:!0})},[t,k]),_=s.useCallback(a=>{a.preventDefault(),i()},[i]);s.useCallback(a=>{a.preventDefault(),i()},[i]),s.useCallback(()=>{i()},[i]);const D=s.useCallback(a=>{a.preventDefault(),C(""),b(""),P("10"),f(""),t(route("guest.klasifikasi.index"),{preserveState:!0,preserveScroll:!0})},[t]);s.useEffect(()=>{const a=d.trim();a&&t(route("guest.klasifikasi.index",{order_by:a,per_page:o,q:c}),{preserveState:!0,preserveScroll:!0})},[d,t,o,c]);const B=s.useMemo(()=>n!=null&&n.length?n.map((a,g)=>{let x=null;x=route("guest.klasifikasi.show",{pemeriksaan:a.id});let v=route("guest.klasifikasi.destroy",{pemeriksaan:a.id});return e.jsx(R,{num:g+1,title:a.tgl_pemeriksaan,columnData:[a.balita.nik,a.balita.nama,a.balita.orangtua.name,`${a.balita.tempat_lahir}/${a.balita.tanggal_lahir}`,a.label],delete:v??"",url:v??"",id:a.id.toString(),show:x??"",children:e.jsx($,{pemeriksaan:a,detail:a.detailpemeriksaan})},a.id)}):e.jsx(w,{children:e.jsx(U,{colSpan:8,className:"bg-gray-300 p-4 text-center text-lg",children:"Data Kosong"})}),[n]);return e.jsxs(F,{children:[e.jsx(L,{title:"Pemeriksaan"}),e.jsx("div",{className:"dark:bg-elevation-1 flex h-full flex-1 flex-col gap-4 rounded-xl p-1 lg:p-4",children:e.jsxs("div",{className:"relative min-h-[100vh] flex-1 overflow-hidden rounded-xl border border-sidebar-border/70 md:min-h-min dark:border-sidebar-border",children:[e.jsxs("div",{className:"flex w-full flex-1 flex-col items-start justify-start gap-4 md:gap-7 lg:flex-row lg:items-center lg:justify-between lg:px-4 lg:py-2",children:[e.jsxs("div",{className:"flex w-full flex-1 flex-wrap gap-7 md:items-start lg:flex-row lg:px-4 lg:py-2",children:[T.add&&e.jsx(O,{href:route("guest.klasifikasi.create-id"),children:e.jsx(h,{type:"button",size:"lg",tabIndex:4,className:"flex cursor-pointer items-center gap-2 bg-primary",children:"Pemeriksaan Nutrisi"})}),e.jsxs("div",{className:"col-span-full flex flex-wrap items-center gap-2 lg:col-span-2",children:[e.jsx(q,{type:"date",id:"search-date",value:u,onChange:a=>b(a.target.value),className:"max-w-fit",placeholder:"Cari berdasarkan tanggal"}),e.jsx(h,{variant:"outline",type:"button",onClick:_,className:"flex items-center gap-2 text-xs",disabled:m,children:"Cari Berdasarkan Tanggal"}),e.jsx(h,{variant:"outline",type:"button",onClick:D,className:"flex items-center gap-2 border-red-500 text-xs",disabled:m,children:"reset"})]})]}),e.jsx("div",{className:"col-span-1 lg:px-4 lg:py-2",children:e.jsxs(A,{value:d,onValueChange:f,children:[e.jsx(E,{children:e.jsx(H,{placeholder:"Tampilan Status"})}),e.jsxs(M,{children:[e.jsxs(S,{children:[e.jsx(N,{children:"Urutkan"}),e.jsx(j,{value:"desc",children:"Terbaru"}),e.jsx(j,{value:"asc",children:"Terlama"})]}),e.jsxs(S,{children:[e.jsx(N,{children:"berdasarkan Nutrisi"}),y.map(a=>e.jsx(j,{value:a,children:a},a))]})]})]})})]}),e.jsx("div",{className:"overflow-hidden lg:w-full",children:e.jsx("div",{children:e.jsx("div",{className:"max-w-[300px] md:max-w-[768px] lg:max-w-full",children:e.jsxs(K,{className:"w-full",children:[e.jsx(V,{children:e.jsxs(w,{children:[e.jsx(l,{className:"w-10",children:"No."}),e.jsx(l,{children:"Tanggal Pemeriksaan"}),e.jsx(l,{children:"NIK"}),e.jsx(l,{children:"Nama Balita/Anak"}),e.jsx(l,{children:"Nama Orang Tua"}),e.jsx(l,{children:"Tempat/Tanggal Lahir"}),e.jsx(l,{children:"Hasil Pemeriksaan Nutrisi"}),e.jsx(l,{children:"Aksi"})]})}),e.jsx(z,{className:m?"opacity-50":"",children:B})]})})})})]})})]})}export{pe as default};
