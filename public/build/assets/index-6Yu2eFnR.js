import{r as p,m as L,j as s,L as E}from"./app-CuUrjUOx.js";import{S as I,D as U}from"./delete-confirmation-form-dnvis0Mc.js";import{I as d}from"./input-error-v9J2fuAN.js";import{B as h}from"./proxy-CQcbi3Iy.js";import{C as H}from"./card-j8r8qik7.js";import{D as A,a as B,b as O,c as P,d as R}from"./dialog-BRdUbGfh.js";import{I as c}from"./input-Dlf5PRJa.js";import{L as x}from"./label-BtcqT4_V.js";import{T as q,a as J,b as N,c as n,d as $,e as l}from"./table-wJ5ouSwu.js";import{A as z}from"./app-layout-Cm5uFP0G.js";import{L as G}from"./loader-circle-Du1qp0U9.js";import"./index-gpLDcwPY.js";import"./use-mobile-navigation-CuxlfIKb.js";import"./index-NDBEC10_.js";import"./react-icons.esm-CPt4nMK2.js";import"./chart-column-6IZWKpNR.js";import"./baby-BK66IyKO.js";function cs({label:K,listKlasifikasiUsia:j,breadcrumb:f,titlePage:b,can:a}){const y=p.useMemo(()=>f?f.map(e=>({title:e.title,href:e.href})):[],[f]),{data:m,setData:i,post:v,put:_,processing:t,errors:o,reset:D}=L({id:null,min_usia:null,max_usia:null,sayuran:"",porsi:"",tekstur:"",frekuensi:""}),[k,g]=p.useState(null),C=e=>{e.preventDefault(),k==null?v(route("admin.klasifikasiUsia.store"),{preserveState:!0,onSuccess:()=>{i({id:null,min_usia:null,max_usia:null,sayuran:"",porsi:"",tekstur:"",frekuensi:""}),u(!1)},onError:r=>{console.error(r)}}):_(route("admin.klasifikasiUsia.update",{klasifikasiUsia:k}),{preserveState:!0,onSuccess:()=>{i({id:null,min_usia:null,max_usia:null,sayuran:"",porsi:"",tekstur:"",frekuensi:""}),g(null),u(!1)},onError:r=>{console.error(r)}})},[M,u]=p.useState(!1),S=e=>{if(e){const r=j.filter(w=>w.id===e,[]);g(r[0].id),r&&(i("id",r[0].id),i("min_usia",r[0].min_usia),i("max_usia",r[0].max_usia),i("sayuran",r[0].sayuran),i("porsi",r[0].porsi),i("tekstur",r[0].tekstur),i("frekuensi",r[0].frekuensi)),u(!0)}},T=()=>{u(!1),D(),g(null)},[Q,F]=p.useState(!1);return s.jsxs(z,{breadcrumbs:y,children:[s.jsx(E,{title:b??"Label"}),s.jsx(H,{children:s.jsxs("div",{className:"px-2",children:[s.jsxs("div",{className:"mb-4 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[s.jsx("h2",{className:"text-lg font-bold md:text-xl",children:"Data Klasifikasi Usia Anak"}),s.jsx("div",{className:"flex flex-col space-y-2 sm:flex-row sm:space-y-0 sm:space-x-2",children:(a==null?void 0:a.add)&&s.jsx(h,{variant:"default",type:"button",className:"cursor-pointer",onClick:()=>u(!0),children:"Tambah Data"})})]}),s.jsx("div",{className:"overflow-x-auto rounded-sm border",children:s.jsxs(q,{className:"min-w-full",children:[s.jsx(J,{children:s.jsxs(N,{children:[s.jsx(n,{className:"cursor-pointer",children:"no"}),s.jsx(n,{className:"cursor-pointer",children:"Usia"}),s.jsx(n,{className:"cursor-pointer",children:"sayuran"}),s.jsx(n,{className:"cursor-pointer",children:"Porsi"}),s.jsx(n,{className:"cursor-pointer",children:"Tekstur"}),s.jsx(n,{className:"cursor-pointer",children:"Frekuensi"}),((a==null?void 0:a.delete)||(a==null?void 0:a.edit))&&s.jsx(n,{className:"cursor-pointer",children:"Aksi"})]})}),s.jsx($,{children:j.length>0?j.map((e,r)=>s.jsxs(N,{children:[s.jsx(l,{children:r+1}),s.jsxs(l,{children:[e.min_usia+"-"+e.max_usia," tahun"]}),s.jsx(l,{children:e.sayuran}),s.jsx(l,{children:e.porsi}),s.jsx(l,{children:e.tekstur}),s.jsx(l,{children:e.frekuensi}),((a==null?void 0:a.edit)||(a==null?void 0:a.delete))&&s.jsx(l,{children:s.jsxs("div",{className:"flex flex-row items-center gap-2",children:[(a==null?void 0:a.edit)&&s.jsxs(h,{type:"button",variant:"default",tooltip:"edit",onClick:()=>S(e.id),className:"border border-chart-4 bg-chart-4",children:[" ",s.jsx(I,{})," "]}),(a==null?void 0:a.delete)&&s.jsx(U,{title:`Hapus label ${e.id}`,id:e.id,url:route("admin.klasifikasiUsia.destroy",{klasifikasiUsia:e.id}),setOpenDialog:F})]})})]},e.id)):s.jsx(N,{children:s.jsx(l,{colSpan:7,className:"py-4 text-center",children:"No data found"})})})]})})]})}),s.jsx(A,{open:M,onOpenChange:u,children:s.jsxs(B,{children:[s.jsx(O,{children:s.jsxs(P,{children:[k?"Edit":"Tambah"," Data Klasifikasi Usia"]})}),s.jsxs("form",{className:"space-y-4",onSubmit:C,children:[s.jsxs("div",{className:"grid gap-4",children:[s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(x,{htmlFor:"min_usia",className:"text-sm font-medium",children:"Masukkan Min Usia"}),s.jsx(c,{type:"number",value:m.min_usia??"",onChange:e=>i("min_usia",Number(e.target.value)),id:"min_usia",name:"min_usia",className:"input",disabled:t,placeholder:"Masukkan nama-nama min_usia"}),s.jsx(d,{message:o.min_usia,className:"mt-2"})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(x,{htmlFor:"max_usia",className:"text-sm font-medium",children:"Masukkan Max usia"}),s.jsx(c,{type:"number",value:m.max_usia??"",onChange:e=>i("max_usia",Number(e.target.value)),id:"max_usia",name:"max_usia",className:"input",disabled:t,placeholder:"Masukkan nama-nama max_usia"}),s.jsx(d,{message:o.max_usia,className:"mt-2"})]})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(x,{htmlFor:"sayuran",className:"text-sm font-medium",children:"Nama Sayuran"}),s.jsx(c,{type:"text",value:m.sayuran,onChange:e=>i("sayuran",e.target.value),id:"sayuran",name:"sayuran",className:"input",disabled:t,placeholder:"Masukkan nama-nama sayuran"}),s.jsx(d,{message:o.sayuran,className:"mt-2"})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(x,{htmlFor:"porsi",className:"text-sm font-medium",children:"Jumlah Porsi Makanan"}),s.jsx(c,{type:"text",value:m.porsi,onChange:e=>i("porsi",e.target.value),id:"porsi",name:"porsi",className:"input",disabled:t,placeholder:"Masukkan porsi"}),s.jsx(d,{message:o.porsi,className:"mt-2"})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(x,{htmlFor:"tekstur",className:"text-sm font-medium",children:"Tekstur Makanan"}),s.jsx(c,{type:"text",value:m.tekstur,onChange:e=>i("tekstur",e.target.value),id:"tekstur",name:"tekstur",className:"input",disabled:t,placeholder:"Masukkan tekstur"}),s.jsx(d,{message:o.tekstur,className:"mt-2"})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(x,{htmlFor:"frekuensi",className:"text-sm font-medium",children:"Frekuensi Per Hari"}),s.jsx(c,{type:"text",value:m.frekuensi,onChange:e=>i("frekuensi",e.target.value),id:"frekuensi",name:"frekuensi",className:"input",disabled:t,placeholder:"Masukkan frekuensi"}),s.jsx(d,{message:o.frekuensi,className:"mt-2"})]})]}),s.jsxs(R,{children:[s.jsx(h,{type:"button",variant:"secondary",onClick:()=>T(),children:"Batal"}),s.jsxs(h,{type:"submit",children:[t&&s.jsx(G,{className:"h-4 w-4 animate-spin"}),"Simpan"]})]})]})]})})]})}export{cs as default};
