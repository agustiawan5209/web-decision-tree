import{r as l,m as G,j as e,L as T}from"./app-DUKVp81f.js";import{I as t}from"./input-error-CexXQf3J.js";import{B}from"./proxy-ksJoh3Hq.js";import{I as c}from"./input-C0lYfivg.js";import{L as m}from"./label-DuN_ChsH.js";import{A as w}from"./app-layout-D___LaH8.js";import{i as A,S as N}from"./react-select-animated.esm-BN6S2pcS.js";import{L as J}from"./loader-circle-CAbTi2Y-.js";import"./index-Vyl4BKBj.js";import"./react-icons.esm-bOrlgzrP.js";import"./index-1EUa3U-_.js";import"./use-mobile-navigation-Dcb7j0Tm.js";import"./chart-column-D6iad66K.js";import"./baby-DuzLFHwf.js";function S({breadcrumb:h,gejala:f,label:v,datasetSayuran:s}){const C=l.useMemo(()=>h?h.map(i=>({title:i.title,href:i.href})):[],[h]),M=l.useMemo(()=>{if(s!=null&&s.gejala){if(typeof s.gejala=="string")try{return JSON.parse(s.gejala)}catch{return s.gejala.split(",").map(n=>n.trim())}return s.gejala}return[]},[s]),_=l.useMemo(()=>{if(s!=null&&s.status){if(typeof s.status=="string")try{return JSON.parse(s.status)}catch{return s.status.split(",").map(n=>n.trim())}return s.status}return[]},[s]),[u,I]=l.useState(M),[d,P]=l.useState(_),{data:p,setData:r,post:L,processing:a,errors:o}=G({id:(s==null?void 0:s.id)??0,nama_sayuran:(s==null?void 0:s.nama_sayuran)??"",nutrisi:(s==null?void 0:s.nutrisi)??"",manfaat:(s==null?void 0:s.manfaat)??"",status:"",gejala:"",porsi:(s==null?void 0:s.porsi)??"40 - 50 gram ",porsi_hari:(s==null?void 0:s.porsi_hari)??"50 - 70 gram",penyajian:(s==null?void 0:s.penyajian)??""});l.useEffect(()=>{r("gejala",u.join(", ")),r("status",d.join(", "))},[u,d,r]);const k=i=>{i.preventDefault(),L(route("admin.datasetSayuran.store"),{onError:n=>console.log(n)})},j=l.useMemo(()=>f.map(i=>({value:i.nama,label:i.nama})),[f]),x=l.useMemo(()=>v.map(i=>({value:i.nama,label:i.nama})),[v]),F=l.useMemo(()=>j.filter(i=>u.includes(i.value)),[j,u]),D=l.useMemo(()=>x.filter(i=>d.includes(i.value)),[x,d]),b=A(),q=i=>{const n=i?i.map(g=>g.value):[];I(n)},E=i=>{const n=i?i.map(g=>g.value):[];P(n)};return e.jsxs(w,{breadcrumbs:C,children:[e.jsx(T,{title:s?"Edit Dataset Sayuran":"Tambah Dataset Sayuran"}),e.jsx("div",{className:"dark:bg-elevation-1 flex h-full flex-1 flex-col gap-4 rounded-xl p-1 lg:p-4",children:e.jsx("div",{className:"relative min-h-[100vh] flex-1 rounded-xl border border-sidebar-border/70 md:min-h-min dark:border-sidebar-border",children:e.jsx("div",{className:"p-4 md:p-6",children:e.jsx("form",{className:"flex flex-col gap-6",onSubmit:k,children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(m,{htmlFor:"nama_sayuran",children:"Nama Sayuran"}),e.jsx(c,{id:"nama_sayuran",type:"text",required:!0,autoFocus:!0,tabIndex:1,autoComplete:"nama_sayuran",value:p.nama_sayuran,onChange:i=>r("nama_sayuran",i.target.value),disabled:a,placeholder:"Nama Sayuran"}),e.jsx(t,{message:o.nama_sayuran,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(m,{htmlFor:"nutrisi",children:"Nutrisi Buah"}),e.jsx(c,{id:"nutrisi",type:"text",required:!0,tabIndex:2,autoComplete:"nutrisi",value:p.nutrisi,onChange:i=>r("nutrisi",i.target.value),disabled:a,placeholder:"Nutrisi pada buah"}),e.jsx(t,{message:o.nutrisi,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(m,{htmlFor:"manfaat",children:"Manfaat"}),e.jsx(c,{id:"manfaat",type:"text",required:!0,tabIndex:3,autoComplete:"manfaat",value:p.manfaat,onChange:i=>r("manfaat",i.target.value),disabled:a,placeholder:"Manfaat sayuran"}),e.jsx(t,{message:o.manfaat})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(m,{htmlFor:"penyajian",children:"Cara Penyajian"}),e.jsx(c,{id:"penyajian",type:"text",required:!0,tabIndex:3,autoComplete:"penyajian",value:p.penyajian,onChange:i=>r("penyajian",i.target.value),disabled:a,placeholder:"Masukkan Cara Penyajian Makanan"}),e.jsx(t,{message:o.penyajian})]})]}),e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(m,{htmlFor:"porsi",children:"Porsi Per Saji (usia 1-3 Tahun)"}),e.jsx(c,{id:"porsi",type:"text",required:!0,tabIndex:3,autoComplete:"porsi",value:p.porsi,onChange:i=>r("porsi",i.target.value),disabled:a,placeholder:"Masukkan Porsi Per Saji (usia 1-3 Tahun)"}),e.jsx(t,{message:o.porsi})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(m,{htmlFor:"porsi_hari",children:"Porsi Per Saji (usia 4-6 Tahun)"}),e.jsx(c,{id:"porsi_hari",type:"text",required:!0,tabIndex:3,autoComplete:"porsi_hari",value:p.porsi_hari,onChange:i=>r("porsi_hari",i.target.value),disabled:a,placeholder:"Masukkan Porsi Per Saji (usia 4-6 Tahun)"}),e.jsx(t,{message:o.porsi_hari})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(m,{htmlFor:"gejala",children:"Gejala"}),e.jsx(N,{id:"gejala",name:"gejala",value:F,onChange:q,closeMenuOnSelect:!1,components:b,isMulti:!0,options:j,isDisabled:a,className:"react-select-container",classNamePrefix:"react-select",tabIndex:4,placeholder:"Pilih gejala..."}),e.jsx(t,{message:o.gejala})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(m,{htmlFor:"status",children:"Status Nutrisi"}),e.jsx(N,{id:"status",name:"status",value:D,onChange:E,closeMenuOnSelect:!1,components:b,isMulti:!0,options:x,isDisabled:a,className:"react-select-container",classNamePrefix:"react-select",tabIndex:5,placeholder:"Pilih status nutrisi..."}),e.jsx(t,{message:o.status})]})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsxs(B,{type:"submit",variant:"default",className:"mt-2 w-full",tabIndex:6,disabled:a,children:[a&&e.jsx(J,{className:"mr-2 h-4 w-4 animate-spin"}),s?"Update":"Simpan"]})})]})})})})})]})}export{S as default};
