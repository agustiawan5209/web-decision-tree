import{m as k,j as e,L as V}from"./app-CNN-epoO.js";import{I as D}from"./input-error-r4Vtg8Ov.js";import{B as E}from"./proxy-yP9KicF4.js";import{I as q}from"./input-B3VYPQfO.js";import{L as m}from"./label-au-fJ7RR.js";import{S as h,a as b,b as g,c as j,d as f}from"./select-DxFvRls0.js";import{A}from"./app-layout-XvDfwJ-u.js";import{L as B}from"./loader-circle-C8I6xaVb.js";import"./index-BF9JanGn.js";import"./index-B4TL6X_K.js";import"./use-mobile-navigation-D7R4FyZ7.js";import"./check-HVFZpdCN.js";import"./react-icons.esm-Boqcu5jP.js";import"./chart-column-D0m8Yol9.js";import"./baby-CiruC7Je.js";function W({breadcrumb:c,kriteria:i,titlePage:N,opsiLabel:y}){const v=c?c.map(a=>({title:a.title,href:a.href})):[],{data:s,setData:n,post:S,processing:L,errors:d}=k({label:"",attribut:i.map((a,r)=>({kriteria_id:i[r].id,nilai:null}))});console.log(s.attribut);const w=a=>{const{name:r,value:t}=a.target,l=r.split(".")[1],o=Number(t);if(!isNaN(o)){n(p=>({...p,attribut:p.attribut.map((x,I)=>I===Number(l)?{...x,nilai:t}:x)}));return}},u=(a,r)=>{a&&r!==void 0&&s&&s.attribut?n(a==="label"?t=>({...t,[a]:r}):t=>({...t,attribut:t.attribut.map((l,o)=>o===Number(a)?{...l,nilai:r}:l)})):console.error("Invalid data: name, value, or attribut may be undefined")},C=a=>{a.preventDefault(),S(route("admin.dataset.store"),{onError:r=>{console.log(r)}})};return e.jsxs(A,{breadcrumbs:v,children:[e.jsx(V,{title:N??"Input Data Nutrisi"}),e.jsxs("div",{className:"mx-auto max-w-7xl rounded-xl border border-gray-100 bg-white p-6 shadow",children:[e.jsx("h1",{className:"mb-6 text-center text-xl font-semibold text-primary",children:"Input Data Nutrisi"}),e.jsxs("form",{onSubmit:C,className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:e.jsxs("div",{children:[e.jsx(m,{className:"text-xs text-gray-600",children:"Label"}),e.jsxs(h,{value:s.label,required:!0,onValueChange:a=>u("label",a),children:[e.jsx(b,{className:"input-minimal",children:e.jsx(g,{placeholder:"Pilih"})}),e.jsx(j,{children:y.map((a,r)=>e.jsx(f,{value:a.nama,children:a.nama},r))})]}),d.label&&e.jsx(D,{message:d.label,className:"mt-2"})]})}),e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:i.map((a,r)=>a.nama.toLowerCase()==="jenis kelamin"?e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{className:"text-sm font-medium text-gray-700",children:a.nama}),e.jsxs(h,{value:s.attribut[r].nilai||"",required:!0,onValueChange:t=>u(r.toLocaleString(),t),children:[e.jsx(b,{className:"w-full rounded-lg border border-gray-300 px-4 py-3 focus:border-blue-500 focus:ring-2 focus:ring-blue-500",children:e.jsx(g,{placeholder:"Select "})}),e.jsx(j,{className:"rounded-lg border border-gray-200 shadow-lg",children:["Laki-laki","Perempuan"].map((t,l)=>e.jsx(f,{value:t,className:"px-4 py-2 hover:bg-gray-50",children:t},l))})]})]},r):e.jsxs("div",{children:[e.jsx(m,{className:"text-xs text-gray-600",children:a.nama}),e.jsx(q,{type:"text",name:`attribut.${r}`,value:s.attribut[r].nilai||"",onChange:w,className:"input-minimal",placeholder:`masukkan ${a.nama}`})]},r))}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(E,{type:"submit",variant:"default",children:[L&&e.jsx(B,{className:"h-4 w-4 animate-spin"}),"Simpan Data"]})})]})]})]})}export{W as default};
