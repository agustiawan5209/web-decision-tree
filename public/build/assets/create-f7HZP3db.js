import{r as h,m as S,j as a,L as F}from"./app-DcneQE3y.js";import{I as n}from"./input-error-DOtoh9U-.js";import{B as y}from"./proxy-CepMwaQ6.js";import{I as p,a as f}from"./input-CS08_VC6.js";import{L as r}from"./label-C1MJqpT0.js";import{S as L,a as T,b as w,c as E,e as B,f as D,d as O}from"./select-1PkxQEl0.js";import{A as q}from"./app-layout--lLQW3o0.js";import{L as P}from"./loader-circle-BZ1rsAcM.js";import"./index-Q_OI6t_I.js";import"./index-DIYsINuK.js";import"./use-mobile-navigation-PdNF5KYm.js";import"./check-BQJQqpja.js";import"./react-icons.esm-a2hNxGTB.js";import"./chart-column-CAesDUkv.js";import"./baby-DOoyboyW.js";function $({breadcrumb:x,orangtua:d}){const N=h.useMemo(()=>x?x.map(e=>({title:e.title,href:e.href})):[],[x]),{data:c,setData:l,post:v,processing:t,errors:i}=S({orang_tua_id:"",nik:"",nama:"",tempat_lahir:"",tanggal_lahir:"",jenis_kelamin:""}),b=e=>{e.preventDefault(),v(route("balita.store"),{onError:u=>console.log(u)})},[s,k]=h.useState(null),[m,_]=h.useState(""),I=e=>{if(!d)return null;try{return(d==null?void 0:d.filter(o=>!o||!o.id?!1:String(o.id).includes(e)).map(o=>o))[0]??null}catch(u){return console.error("Error filtering orangtua by ID:",u),null}};h.useEffect(()=>{m&&(k(I(m)),l("orang_tua_id",m))},[m]);const g=new Date,j=new Date(g);j.setFullYear(g.getFullYear()-1);const C=j.toISOString().split("T")[0];return a.jsxs(q,{breadcrumbs:N,children:[a.jsx(F,{title:"Create"}),a.jsx("div",{className:"dark:bg-elevation-1 flex h-full flex-1 flex-col gap-4 rounded-xl p-1 lg:p-4",children:a.jsx("div",{className:"border-sidebar-border/70 dark:border-sidebar-border relative min-h-[100vh] flex-1 overflow-hidden rounded-xl border md:min-h-min",children:a.jsx("div",{className:"p-4 md:p-6",children:a.jsx("form",{className:"flex flex-col gap-6",onSubmit:b,children:a.jsxs("div",{className:"grid gap-6",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(r,{htmlFor:"nama",children:"Pilih Berdasarkan Nama Orang Tua"}),a.jsxs(L,{defaultValue:"0",required:!0,value:m,onValueChange:e=>_(e),children:[a.jsx(T,{children:a.jsx(w,{placeholder:"Pilih Orang Tua"})}),a.jsx(E,{children:a.jsxs(B,{children:[a.jsx(D,{children:"Pilih Orang Tua"}),d.map(e=>a.jsx(O,{value:e.id,children:e.name},e.id))]})})]}),a.jsx(n,{message:i.orang_tua_id,className:"mt-2"})]}),s&&a.jsxs("div",{className:"block space-y-4 p-2",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(r,{htmlFor:"email-orangtua",className:"text-muted-foreground",children:["Nama Orang Tua:"," "]}),a.jsx(r,{htmlFor:"Nama-orangtua",className:"font-normal",children:s==null?void 0:s.name})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(r,{htmlFor:"email-orangtua",className:"text-muted-foreground",children:["Email Orang Tua:"," "]}),a.jsx(r,{htmlFor:"Nama-orangtua",className:"font-normal",children:s==null?void 0:s.email})]})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(r,{htmlFor:"nama",children:"NIK (Nomor Induk Kependudukan)"}),a.jsx(p,{id:"nik",type:"text",required:!0,autoFocus:!0,tabIndex:1,autoComplete:"nik",value:c.nik,onChange:e=>l("nik",e.target.value),disabled:t,placeholder:"Nomor Induk Kependudukan"}),a.jsx(n,{message:i.nik,className:"mt-2"})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(r,{htmlFor:"nama",children:"Nama"}),a.jsx(p,{id:"nama",type:"text",required:!0,autoFocus:!0,tabIndex:1,autoComplete:"nama",value:c.nama,onChange:e=>l("nama",e.target.value),disabled:t,placeholder:"Nama Balita/Anak"}),a.jsx(n,{message:i.nama,className:"mt-2"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"col-span-1 grid gap-2",children:[a.jsx(r,{htmlFor:"tempat_lahir",children:"Tempat"}),a.jsx(p,{id:"tempat_lahir",type:"text",required:!0,tabIndex:2,autoComplete:"tempat_lahir",value:c.tempat_lahir,onChange:e=>l("tempat_lahir",e.target.value),disabled:t,placeholder:"tempat_lahir......."}),a.jsx(n,{message:i.tempat_lahir})]}),a.jsxs("div",{className:"col-span-2 grid gap-2",children:[a.jsx(r,{htmlFor:"tanggal_lahir",children:"Tanggal Lahir"}),a.jsx(p,{id:"tanggal_lahir",type:"date",required:!0,max:C,tabIndex:2,autoComplete:"tanggal_lahir",value:c.tanggal_lahir,onChange:e=>l("tanggal_lahir",e.target.value),disabled:t,placeholder:"tanggal lahir......."}),a.jsx(n,{message:i.tanggal_lahir})]})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(r,{htmlFor:"jenis_kelamin",children:"Jenis Kelamin"}),a.jsx(f,{id:"jenis1",name:"jenis_kelaim",label:"Laki-laki",value:"Laki-laki",onChange:e=>l("jenis_kelamin",e.target.value),className:"border-red-500",labelClassName:"text-gray-800 dark:text-white"}),a.jsx(f,{id:"jenis2",name:"jenis_kelaim",label:"Perempuan",value:"Perempuan",onChange:e=>l("jenis_kelamin",e.target.value),className:"border-red-500",labelClassName:"text-gray-800 dark:text-white"}),a.jsx(n,{message:i.jenis_kelamin})]}),a.jsxs(y,{type:"submit",variant:"default",className:"mt-2 w-full",tabIndex:5,disabled:t,children:[t&&a.jsx(P,{className:"h-4 w-4 animate-spin"}),"Simpan"]})]})})})})})]})}export{$ as default};
