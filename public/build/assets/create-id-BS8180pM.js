import{K as j,r as l,m as N,j as e,L as b}from"./app-DzrSKPVz.js";import{C as v}from"./classify-pemeriksaan-BbdtuHXT.js";import{C as w,a as _}from"./card-Bn-ASFZc.js";import{T as S}from"./use-mobile-navigation-Dd3NJPFA.js";import{U as C}from"./user-auth-layout-BINsIdWL.js";import"./dialog-C5r3b-me.js";import"./index-Bq8tRjyt.js";import"./proxy-BSbp0aLI.js";import"./index-D8BHyDSJ.js";import"./input-De5o1GKr.js";import"./label-Dq48BVEC.js";import"./select-DSQJ1K9S.js";import"./check-BZaDnLRp.js";import"./react-icons.esm-CFdoLmJo.js";import"./decision-tree-model-CWToU6Ku.js";import"./react-select-animated.esm-CFDLhlcT.js";import"./input-error-CVGQUOsN.js";import"./table-dataset-sayuran-CEmKkVLr.js";import"./table-BdAj4Uz0.js";import"./loader-circle-Cwq_UB7b.js";import"./main-layout-CcYTWz4b.js";import"./sprout-BUK9GaYv.js";function I({breadcrumb:o,balita:E,balitaId:a,kriteria:m,orangtua:T}){const{auth:r}=j().props;l.useMemo(()=>o?o.map(s=>({title:s.title,href:s.href})):[],[o]);const[t,g]=l.useState(null),[i,d]=l.useState({title:"",show:!1,message:"",type:"success"}),h=new Date().toISOString().split("T")[0],{data:c,setData:n,post:u,processing:k,errors:f}=N({rme:"",nik:a?a.nik:"",orang_tua_id:r.user.id.toString(),nama:a?a.nama:"",tempat_lahir:a?a.tempat_lahir:"",tanggal_lahir:a?a.tanggal_lahir:"",jenis_kelamin:a?a.jenis_kelamin:"",alamat:a?a.alamat:"",tanggal_pemeriksaan:h,kriteria:m.map(s=>({nilai:null,kriteria_id:s.id.toString(),name:s.nama})),label:"",alasan:"",rekomendasi:[],gejala:"",usia_balita:"",detail:[],klasifikasiUsia:[],statusGizi:[]}),y=s=>{var p;s.preventDefault(),c.label==""?n("label",((p=t==null?void 0:t.label)==null?void 0:p.toString())??""):u(route("pemeriksaan.store"),{onError:x=>{console.log(x),d({title:"Error",show:!0,message:JSON.stringify(x),type:"error"})},preserveState:!0})};return l.useEffect(()=>{t&&t.label&&n("label",t.label.toString())},[t]),e.jsxs(C,{children:[e.jsx(b,{title:"Create"}),e.jsx(S,{open:i.show,onOpenChange:()=>d(s=>({...s,show:!1})),title:i.title,description:i.message,duration:5e3,variant:i.type}),e.jsx("div",{className:"dark:bg-elevation-1 flex h-full flex-1 flex-col gap-6 rounded-xl bg-gradient-to-br from-blue-50 to-indigo-50 p-4 dark:from-gray-800 dark:to-gray-900",children:e.jsx("div",{className:"relative flex-1 overflow-hidden rounded-xl border border-gray-200 bg-white shadow-sm dark:border-gray-700 dark:bg-gray-800",children:e.jsx(w,{className:"border-none shadow-none",children:e.jsx(_,{className:"p-6",children:e.jsxs("div",{className:"grid gap-8",children:[r.user&&e.jsxs("div",{className:"space-y-4 rounded-xl border border-blue-100 bg-blue-50 p-4 dark:border-gray-700 dark:bg-gray-700/50",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-800 dark:text-blue-300",children:"Informasi Orang Tua"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Nama Orang Tua/Mewakili"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:r.user.name})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Email"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:r.user.email})]}),e.jsxs("div",{className:"space-y-1 md:col-span-1",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Alamat"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:r.user.alamat})]}),e.jsxs("div",{className:"space-y-1 md:col-span-1",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No. HP/Whatsapp"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:r.user.nohp})]})]})]}),m&&e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Rekomendasi Pemeriksaan"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Isi form berikut untuk melakukan klasifikasi"})]}),e.jsx(v,{submit:y,kriteria:m,setResult:g,data:c,setData:n,processing:k,errors:f})]})]})})})})})]})}export{I as default};
