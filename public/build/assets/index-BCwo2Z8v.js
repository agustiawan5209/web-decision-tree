import{r as s,m as V,j as e,L as q}from"./app-BmKeOAo8.js";import{C as E,D as H}from"./detail-pemeriksaan-G4cxVzpf.js";import{P as M}from"./pagination-table-BVwLHhTN.js";import{B as j}from"./proxy-NDnMJSoV.js";import{I as C}from"./input-ASvGWMAq.js";import{S as T,a as P,b as _,c as D,d as b,e as B,f as n}from"./select-ZsM2HQgS.js";import{T as F,a as $,b as G,c,d as J}from"./table-W7uTB-tQ.js";import{A as U}from"./app-layout-BJs_mVDv.js";import"./delete-confirmation-form-DCQBEAhi.js";import"./dialog-BUSu6aK-.js";import"./index-BpbHWGZt.js";import"./use-mobile-navigation-sEpqxZQr.js";import"./index-CHSFJr6T.js";import"./loader-circle-Bh4Lcsea.js";import"./eye-C1KUWurW.js";import"./check-aWeHpBmv.js";import"./react-icons.esm-DrSLSvqa.js";import"./baby-BZ8EI2x_.js";function me({pemeriksaan:l,breadcrumb:p,filter:r,statusLabel:L,can:z}){const O=s.useMemo(()=>p?p.map(a=>({title:a.title,href:a.href})):[],[p]),{get:d,processing:h}=V(),[i,v]=s.useState((r==null?void 0:r.q)??""),[m,f]=s.useState((r==null?void 0:r.date)??""),[u,w]=s.useState((r==null?void 0:r.order_by)??""),[o,N]=s.useState((r==null?void 0:r.per_page)??"10"),[K,Q]=s.useState(!1),y=s.useMemo(()=>({q:i.trim(),per_page:o,order_by:u,date:m}),[i,o,u,m]),x=s.useCallback(()=>{const a=i.trim(),t=m.trim(),g=parseInt(o.toString());(a||t||!isNaN(g))&&d(route("admin.riwayat.index",y),{preserveState:!0,preserveScroll:!0,replace:!0})},[d,y]),R=s.useCallback(a=>{a.preventDefault(),x()},[x]),k=s.useCallback(a=>{a.preventDefault(),x()},[x]);s.useCallback(()=>{x()},[x]);const A=s.useCallback(a=>{a.preventDefault(),v(""),f(""),N("10"),w(""),d(route("admin.riwayat.index"),{preserveState:!0,preserveScroll:!0})},[d]);s.useEffect(()=>{const a=u.trim();a&&d(route("admin.riwayat.index",{order_by:a,per_page:o,q:i}),{preserveState:!0,preserveScroll:!0})},[u,d,o,i]);const I=s.useMemo(()=>{var a;return(a=l==null?void 0:l.data)!=null&&a.length?l.data.map((t,g)=>{let S=null;return S=route("admin.riwayat.show",{pemeriksaan:t.id}),e.jsx(E,{num:g+1+(l.current_page-1)*l.per_page,title:t.tgl_pemeriksaan,columnData:[t.balita.nama,t.balita.orangtua.name,`${t.balita.tempat_lahir}/${t.balita.tanggal_lahir}`,t.label],id:t.id.toString(),show:S??"",children:e.jsx(H,{pemeriksaan:t,detail:t.detailpemeriksaan})},t.id)}):null},[l]);return e.jsxs(U,{breadcrumbs:O,children:[e.jsx(q,{title:"Pemeriksaan"}),e.jsx("div",{className:"dark:bg-elevation-1 flex h-full flex-1 flex-col gap-4 rounded-xl p-1 lg:p-4",children:e.jsxs("div",{className:"relative min-h-[100vh] flex-1 overflow-hidden rounded-xl border border-sidebar-border/70 md:min-h-min dark:border-sidebar-border",children:[e.jsxs("div",{className:"flex w-full flex-1 flex-col items-start justify-start gap-4 md:gap-7 lg:flex-row lg:items-center lg:justify-between lg:px-4 lg:py-2",children:[e.jsx("div",{className:"flex w-full flex-1 flex-wrap gap-7 md:items-start lg:flex-row lg:px-4 lg:py-2",children:e.jsxs("div",{className:"col-span-full flex flex-wrap items-center gap-2 lg:col-span-2",children:[e.jsx("label",{htmlFor:"search",className:"sr-only",children:"Cari"}),e.jsx(C,{type:"search",id:"search-text",value:i,className:"max-w-max",onChange:a=>v(a.target.value),placeholder:"Cari berdasarkan nama atau keterangan"}),e.jsx(C,{type:"date",id:"search-date",value:m,onChange:a=>f(a.target.value),className:"max-w-fit",placeholder:"Cari berdasarkan tanggal"}),e.jsx(j,{variant:"outline",type:"button",onClick:R,className:"flex items-center gap-2 text-xs",disabled:h,children:"Cari"}),e.jsx(j,{variant:"outline",type:"button",onClick:A,className:"flex items-center gap-2 border-red-500 text-xs",disabled:h,children:"Clear"})]})}),e.jsx("div",{className:"col-span-1 lg:px-4 lg:py-2",children:e.jsxs(T,{value:u,onValueChange:w,children:[e.jsx(P,{children:e.jsx(_,{placeholder:"Tampilan Status"})}),e.jsxs(D,{children:[e.jsxs(b,{children:[e.jsx(B,{children:"Urutkan"}),e.jsx(n,{value:"desc",children:"Terbaru"}),e.jsx(n,{value:"asc",children:"Terlama"})]}),e.jsxs(b,{children:[e.jsx(B,{children:"berdasarkan Nutrisi"}),L.map(a=>e.jsx(n,{value:a,children:a},a))]})]})]})})]}),e.jsxs("div",{className:"overflow-hidden lg:w-full",children:[e.jsx("div",{children:e.jsx("div",{className:"max-w-[300px] md:max-w-[768px] lg:max-w-full",children:e.jsxs(F,{className:"w-full",children:[e.jsx($,{children:e.jsxs(G,{children:[e.jsx(c,{className:"w-10",children:"No."}),e.jsx(c,{children:"Tanggal Pemeriksaan"}),e.jsx(c,{children:"Nama Balita/Anak"}),e.jsx(c,{children:"Nama Orang Tua"}),e.jsx(c,{children:"Tempat/Tanggal Lahir"}),e.jsx(c,{children:"Hasil Pemeriksaan Nutrisi"}),e.jsx(c,{children:"Aksi"})]})}),e.jsx(J,{className:h?"opacity-50":"",children:I})]})})}),e.jsx("section",{className:"w-full",children:e.jsxs("div",{className:"flex flex-col items-center justify-between gap-7 border-x-2 border-b-2 p-2 md:flex-row",children:[e.jsxs("div",{className:"flex items-center gap-7 lg:px-4 lg:py-2",children:[e.jsxs("div",{className:"flex flex-row gap-2",children:[e.jsxs(T,{value:o,onValueChange:N,children:[e.jsx(P,{children:e.jsx(_,{placeholder:"Jumlah Data"})}),e.jsx(D,{children:e.jsxs(b,{children:[e.jsx(n,{value:"10",children:"10"}),e.jsx(n,{value:"20",children:"20"}),e.jsx(n,{value:"50",children:"50"}),e.jsx(n,{value:"100",children:"100"})]})})]}),e.jsx(j,{variant:"outline",type:"button",onClick:k,className:"flex items-center gap-2 text-xs",disabled:h,children:"Tampilkan"})]}),e.jsxs("div",{className:"text-xs text-gray-600",children:["halaman ",l==null?void 0:l.from," ke ",l==null?void 0:l.to," dari ",l==null?void 0:l.total," total"]})]}),e.jsx(M,{links:(l==null?void 0:l.links)??[],data:r})]})})]})]})})]})}export{me as default};
