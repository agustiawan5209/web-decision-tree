import{m as k,j as e,L as V}from"./app-TSYLOfGo.js";import{I as D}from"./input-error-CUJ1Dss0.js";import{B as P}from"./proxy-TbOm_buQ.js";import{I as E}from"./input-f--SAutY.js";import{L as m}from"./label-FQFUKQUs.js";import{S as h,a as b,b as g,c as f,f as j}from"./select-BdXchkXm.js";import{A as R}from"./app-layout-BObc0ifo.js";import{L as q}from"./loader-circle-C1u9jj0m.js";import"./index-DDb50-6D.js";import"./index-BnlWjsxb.js";import"./use-mobile-navigation-J1Bz5xez.js";import"./check-Bq2nwx4y.js";import"./react-icons.esm-BaeMcvOJ.js";import"./leafy-green-CT-BMrqA.js";import"./baby-Dz5xfkuS.js";function W({breadcrumb:c,kriteria:i,titlePage:N,opsiLabel:y}){const v=c?c.map(a=>({title:a.title,href:a.href})):[],{data:s,setData:n,post:L,processing:S,errors:u}=k({label:"",attribut:i.map((a,r)=>({kriteria_id:i[r].id,nilai:null}))});console.log(s.attribut);const w=a=>{const{name:r,value:t}=a.target,l=r.split(".")[1],o=Number(t);if(!isNaN(o)){n(p=>({...p,attribut:p.attribut.map((x,I)=>I===Number(l)?{...x,nilai:t}:x)}));return}},d=(a,r)=>{a&&r!==void 0&&s&&s.attribut?n(a==="label"?t=>({...t,[a]:r}):t=>({...t,attribut:t.attribut.map((l,o)=>o===Number(a)?{...l,nilai:r}:l)})):console.error("Invalid data: name, value, or attribut may be undefined")},C=a=>{a.preventDefault(),L(route("admin.dataset.store"),{onError:r=>{console.log(r)}})};return e.jsxs(R,{breadcrumbs:v,children:[e.jsx(V,{title:N??"Input Data Panen Rumput Laut"}),e.jsxs("div",{className:"mx-auto max-w-7xl rounded-xl border border-gray-100 bg-white p-6 shadow",children:[e.jsx("h1",{className:"mb-6 text-center text-xl font-semibold text-primary",children:"Input Data Panen Rumput Laut"}),e.jsxs("form",{onSubmit:C,className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:e.jsxs("div",{children:[e.jsx(m,{className:"text-xs text-gray-600",children:"Label"}),e.jsxs(h,{value:s.label,required:!0,onValueChange:a=>d("label",a),children:[e.jsx(b,{className:"input-minimal",children:e.jsx(g,{placeholder:"Pilih"})}),e.jsx(f,{children:y.map((a,r)=>e.jsx(j,{value:a.nama,children:a.nama},r))})]}),u.label&&e.jsx(D,{message:u.label,className:"mt-2"})]})}),e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:i.map((a,r)=>a.nama.toLowerCase()==="jenis kelamin"?e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{className:"text-sm font-medium text-gray-700",children:a.nama}),e.jsxs(h,{value:s.attribut[r].nilai||"",required:!0,onValueChange:t=>d(r.toLocaleString(),t),children:[e.jsx(b,{className:"w-full rounded-lg border border-gray-300 px-4 py-3 focus:border-blue-500 focus:ring-2 focus:ring-blue-500",children:e.jsx(g,{placeholder:"Select "})}),e.jsx(f,{className:"rounded-lg border border-gray-200 shadow-lg",children:["Laki-laki","Perempuan"].map((t,l)=>e.jsx(j,{value:t,className:"px-4 py-2 hover:bg-gray-50",children:t},l))})]})]},r):e.jsxs("div",{children:[e.jsx(m,{className:"text-xs text-gray-600",children:a.nama}),e.jsx(E,{type:"text",name:`attribut.${r}`,value:s.attribut[r].nilai||"",onChange:w,className:"input-minimal",placeholder:`masukkan ${a.nama}`})]},r))}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(P,{type:"submit",variant:"default",children:[S&&e.jsx(q,{className:"h-4 w-4 animate-spin"}),"Simpan Data"]})})]})]})]})}export{W as default};
