import{r as l,m as I,j as e,L}from"./app-BScJNnpR.js";import{S as K,D as A}from"./delete-confirmation-form-DO1llGDa.js";import{I as f}from"./input-error-DDII8n6p.js";import{B as n}from"./proxy-BoW6dsba.js";import{C as B}from"./card-CmTbYvFb.js";import{D as F,a as H,b as O,c as M,d as R}from"./dialog-u-Z-gRm7.js";import{I as g}from"./input-C5OxBqIS.js";import{L as k}from"./label-637BWEgp.js";import{T as q,a as P,b as u,c as o,d as $,e as t}from"./table-1exFNndK.js";import{A as z}from"./app-layout-Cr7dpvCd.js";import{L as G}from"./loader-circle-TbBPQMkL.js";import"./index-HnbBxZqP.js";import"./use-mobile-navigation-C3-4QabU.js";import"./index-BkrSUmyv.js";import"./react-icons.esm-DmOSOGPI.js";import"./chart-column-DsIxL5Te.js";import"./baby-D21bfV52.js";function de({kriteria:d,breadcrumb:m,titlePage:N}){const b=l.useMemo(()=>m?m.map(s=>({title:s.title,href:s.href})):[],[m]),{data:h,setData:i,post:v,put:D,processing:c,errors:j,reset:y}=I({id:null,nama:"",deskripsi:""}),[p,x]=l.useState(null),C=s=>{s.preventDefault(),p==null?v(route("admin.kriteria.store"),{preserveState:!0,onSuccess:()=>{i({id:null,nama:"",deskripsi:""}),r(!1)},onError:a=>{console.error(a)}}):D(route("admin.kriteria.update",{kriteria:p}),{preserveState:!0,onSuccess:()=>{i({id:null,nama:"",deskripsi:""}),x(null),r(!1)},onError:a=>{console.error(a)}})},[S,r]=l.useState(!1),T=s=>{if(s){const a=d.filter(E=>E.id===s,[]);x(a[0].id),a&&i({id:a[0].id,nama:a[0].nama,deskripsi:a[0].deskripsi}),r(!0)}},[J,w]=l.useState(!1);return e.jsxs(z,{breadcrumbs:b,children:[e.jsx(L,{title:N??"Kriteria"}),e.jsx(B,{children:e.jsxs("div",{className:"px-2",children:[e.jsxs("div",{className:"mb-4 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsx("h2",{className:"text-lg font-bold md:text-xl",children:"Kriteria Nutrisi Anak"}),e.jsx("div",{className:"flex flex-col space-y-2 sm:flex-row sm:space-y-0 sm:space-x-2",children:e.jsx(n,{variant:"default",type:"button",className:"cursor-pointer",onClick:()=>r(!0),children:"Tambah Data"})})]}),e.jsx("div",{className:"overflow-x-auto rounded-sm border",children:e.jsxs(q,{className:"min-w-full",children:[e.jsx(P,{children:e.jsxs(u,{children:[e.jsx(o,{className:"cursor-pointer",children:"no"}),e.jsx(o,{className:"cursor-pointer",children:"Nama"}),e.jsx(o,{className:"cursor-pointer",children:"deskripsi"}),e.jsx(o,{className:"cursor-pointer",children:"Aksi"})]})}),e.jsx($,{children:d.length>0?d.map((s,a)=>e.jsxs(u,{children:[e.jsx(t,{children:a+1}),e.jsx(t,{children:s.nama}),e.jsx(t,{children:s.deskripsi}),e.jsx(t,{children:e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[e.jsxs(n,{type:"button",variant:"default",tooltip:"edit",onClick:()=>T(s.id),className:"border border-chart-4 bg-chart-4",children:[" ",e.jsx(K,{})," "]}),e.jsx(A,{title:`Hapus kriteria ${s.id}`,id:s.id,url:route("admin.kriteria.destroy",{kriteria:s.id}),setOpenDialog:w})]})})]},s.id)):e.jsx(u,{children:e.jsx(t,{colSpan:4,className:"py-4 text-center",children:"No data found"})})})]})})]})}),e.jsx(F,{open:S,onOpenChange:r,children:e.jsxs(H,{children:[e.jsx(O,{children:e.jsxs(M,{children:[p?"Edit":"Tambah"," Kriteria"]})}),e.jsxs("form",{className:"space-y-4",onSubmit:C,children:[e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(k,{htmlFor:"nama",className:"text-sm font-medium",children:"Nama Kriteria"}),e.jsx(g,{type:"text",value:h.nama,onChange:s=>i("nama",s.target.value),id:"nama",name:"nama",className:"input",disabled:c,placeholder:"Masukkan nama kriteria"}),e.jsx(f,{message:j.nama,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(k,{htmlFor:"deskripsi",className:"text-sm font-medium",children:"Keterangan"}),e.jsx(g,{type:"text",value:h.deskripsi,onChange:s=>i("deskripsi",s.target.value),id:"deskripsi",name:"deskripsi",className:"input",disabled:c,placeholder:"Masukkan deskripsi kriteria"}),e.jsx(f,{message:j.deskripsi,className:"mt-2"})]})]}),e.jsxs(R,{children:[e.jsx(n,{type:"button",variant:"secondary",onClick:()=>{y(),x(null),r(!1)},children:"Batal"}),e.jsxs(n,{type:"submit",children:[c&&e.jsx(G,{className:"h-4 w-4 animate-spin"}),"Simpan"]})]})]})]})})]})}export{de as default};
