import{r as p,m as F,j as e,L}from"./app-BEqMENVq.js";import{I as u}from"./input-error-BH0unGUv.js";import{B as y}from"./proxy-CWIQuLMb.js";import{I as g,a as k}from"./input-g-ffmoFt.js";import{L as l}from"./label-D7D4h2O7.js";import{S as T,a as E,b as w,c as B,d as D,e as O,f as P}from"./select-BknL6WGn.js";import{A as q}from"./app-layout-BsWNusnI.js";import{L as K}from"./loader-circle-DJLNHEho.js";import"./index-BHc9ADN6.js";import"./index-DFL30kwf.js";import"./use-mobile-navigation-Boboy-NT.js";import"./check-DFOA3ZOn.js";import"./react-icons.esm-BnO9khdn.js";import"./baby-BNynTLVm.js";function $({breadcrumb:x,orangtua:d,balita:r}){const N=p.useMemo(()=>x?x.map(a=>({title:a.title,href:a.href})):[],[x]),{data:s,setData:t,put:_,processing:n,errors:m}=F({orang_tua_id:r.orang_tua_id,nik:r.nik,nama:r.nama,tempat_lahir:r.tempat_lahir,tanggal_lahir:r.tanggal_lahir,jenis_kelamin:r.jenis_kelamin}),v=a=>{a.preventDefault(),console.log(s.jenis_kelamin),_(route("balita.update",{balita:r.id}),{onError:h=>console.log(h)})},[i,b]=p.useState(null),[o,I]=p.useState(r.orang_tua_id),C=a=>{if(!d)return null;try{return(d==null?void 0:d.filter(c=>!c||!c.id?!1:String(c.id).includes(a)).map(c=>c))[0]??null}catch(h){return console.error("Error filtering orangtua by ID:",h),null}};p.useEffect(()=>{o&&(b(C(o)),t("orang_tua_id",o))},[o]);const j=new Date,f=new Date(j);f.setFullYear(j.getFullYear()-1);const S=f.toISOString().split("T")[0];return e.jsxs(q,{breadcrumbs:N,children:[e.jsx(L,{title:"Edit"}),e.jsx("div",{className:"dark:bg-elevation-1 flex h-full flex-1 flex-col gap-4 rounded-xl p-1 lg:p-4",children:e.jsx("div",{className:"border-sidebar-border/70 dark:border-sidebar-border relative min-h-[100vh] flex-1 overflow-hidden rounded-xl border md:min-h-min",children:e.jsx("div",{className:"p-4 md:p-6",children:e.jsx("form",{className:"flex flex-col gap-6",onSubmit:v,children:e.jsxs("div",{className:"grid gap-6",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{htmlFor:"nama",children:"Pilih Berdasarkan Nama Orang Tua"}),e.jsxs(T,{defaultValue:"0",value:o,onValueChange:a=>I(a),children:[e.jsx(E,{children:e.jsx(w,{placeholder:"Pilih Orang Tua"})}),e.jsx(B,{children:e.jsxs(D,{children:[e.jsx(O,{children:"Pilih Orang Tua"}),d.map(a=>e.jsx(P,{value:a.id,children:a.name},a.id))]})})]})]}),i&&e.jsxs("div",{className:"block space-y-4 p-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(l,{htmlFor:"email-orangtua",className:"text-muted-foreground",children:["Nama Orang Tua:"," "]}),e.jsx(l,{htmlFor:"Nama-orangtua",className:"font-normal",children:i==null?void 0:i.name})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(l,{htmlFor:"email-orangtua",className:"text-muted-foreground",children:["Email Orang Tua:"," "]}),e.jsx(l,{htmlFor:"Nama-orangtua",className:"font-normal",children:i==null?void 0:i.email})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{htmlFor:"nama",children:"NIK (Nomor Induk Kependudukan)"}),e.jsx(g,{id:"nik",type:"text",required:!0,autoFocus:!0,tabIndex:1,autoComplete:"nik",value:s.nik,onChange:a=>t("nik",a.target.value),disabled:n,placeholder:"Nomor Induk Kependudukan"}),e.jsx(u,{message:m.nik,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{htmlFor:"nama",children:"Nama"}),e.jsx(g,{id:"nama",type:"text",required:!0,autoFocus:!0,tabIndex:1,autoComplete:"nama",value:s.nama,onChange:a=>t("nama",a.target.value),disabled:n,placeholder:"Nama Balita/Anak"}),e.jsx(u,{message:m.nama,className:"mt-2"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"col-span-1 grid gap-2",children:[e.jsx(l,{htmlFor:"tempat_lahir",children:"Tempat"}),e.jsx(g,{id:"tempat_lahir",type:"text",required:!0,tabIndex:2,autoComplete:"tempat_lahir",value:s.tempat_lahir,onChange:a=>t("tempat_lahir",a.target.value),disabled:n,placeholder:"tempat_lahir......."}),e.jsx(u,{message:m.tempat_lahir})]}),e.jsxs("div",{className:"col-span-2 grid gap-2",children:[e.jsx(l,{htmlFor:"tanggal_lahir",children:"Tanggal Lahir"}),e.jsx(g,{id:"tanggal_lahir",type:"date",required:!0,max:S,tabIndex:2,autoComplete:"tanggal_lahir",value:s.tanggal_lahir,onChange:a=>t("tanggal_lahir",a.target.value),disabled:n,placeholder:"tanggal lahir......."}),e.jsx(u,{message:m.tanggal_lahir})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{htmlFor:"jenis_kelamin",children:"Jenis Kelamin"}),e.jsx(k,{id:"jenis1",name:"jenis_kelaim",label:"Laki-laki",value:"Laki-laki",checked:s.jenis_kelamin=="Laki-laki",onChange:a=>t("jenis_kelamin",a.target.value),className:"border-red-500",labelClassName:"text-gray-800 dark:text-white"}),e.jsx(k,{id:"jenis2",name:"jenis_kelaim",label:"Perempuan",value:"Perempuan",checked:s.jenis_kelamin=="Perempuan",onChange:a=>t("jenis_kelamin",a.target.value),className:"border-red-500",labelClassName:"text-gray-800 dark:text-white"}),e.jsx(u,{message:m.jenis_kelamin})]}),e.jsxs(y,{type:"submit",variant:"default",className:"mt-2 w-full",tabIndex:5,disabled:n,children:[n&&e.jsx(K,{className:"h-4 w-4 animate-spin"}),"Simpan"]})]})})})})})]})}export{$ as default};
