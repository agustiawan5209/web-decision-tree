import{K as v,r as d,m as T,j as e,L as _}from"./app-pgW_gOsw.js";import{C as S}from"./classify-pemeriksaan-scZxY43-.js";import{C,a as E}from"./card-2_8J5vKI.js";import{T as O,a as P,b as p,c as l,d as L,e as n}from"./table-Cvgohxfw.js";import{T as R}from"./use-mobile-navigation--OCm8-Yb.js";import{U as A}from"./user-auth-layout-DQ1-kti1.js";import"./dialog-BnUUsz71.js";import"./index-ePSL6w1Y.js";import"./proxy-ChNa7q6N.js";import"./index-DKSdUlWe.js";import"./input-Ck7rK2eW.js";import"./label-C-sO-fQO.js";import"./select-BT1qfQtC.js";import"./check-BM5uXCvW.js";import"./react-icons.esm-BEXJ16R2.js";import"./decision-tree-model-DOYjETAv.js";import"./react-select-animated.esm-gB6aAIJF.js";import"./input-error-W4glBfmY.js";import"./table-dataset-sayuran-BYhb5GgL.js";import"./loader-circle-BgBWZYs_.js";import"./main-layout-CT_81vEQ.js";import"./sprout-B7_QUhcR.js";function le({breadcrumb:c,balita:o,balitaId:s,kriteria:x,orangtua:D}){const{auth:t}=v().props;d.useMemo(()=>c?c.map(a=>({title:a.title,href:a.href})):[],[c]);const[r,f]=d.useState(null),[m,g]=d.useState({title:"",show:!1,message:"",type:"success"}),y=new Date().toISOString().split("T")[0],{data:j,setData:h,post:N,processing:u,errors:b}=T({rme:"",nik:s?s.nik:"",orang_tua_id:t.user.id.toString(),nama:s?s.nama:"",tempat_lahir:s?s.tempat_lahir:"",tanggal_lahir:s?s.tanggal_lahir:"",jenis_kelamin:s?s.jenis_kelamin:"",alamat:s?s.alamat:"",tanggal_pemeriksaan:y,kriteria:x.map(a=>({nilai:null,kriteria_id:a.id.toString(),name:a.nama})),label:"",alasan:"",rekomendasi:[],gejala:"",usia_balita:"",detail:[],klasifikasiUsia:[],statusGizi:[]}),w=a=>{var i;a.preventDefault(),j.label==""?h("label",((i=r==null?void 0:r.label)==null?void 0:i.toString())??""):N(route("pemeriksaan.store"),{onError:k=>{console.log(k),g({title:"Error",show:!0,message:JSON.stringify(k),type:"error"})},preserveState:!0})};return d.useEffect(()=>{r&&r.label&&h("label",r.label.toString())},[r]),e.jsxs(A,{children:[e.jsx(_,{title:"Create"}),e.jsx(R,{open:m.show,onOpenChange:()=>g(a=>({...a,show:!1})),title:m.title,description:m.message,duration:5e3,variant:m.type}),e.jsx("div",{className:"dark:bg-elevation-1 flex h-full flex-1 flex-col gap-6 rounded-xl bg-gradient-to-br from-blue-50 to-indigo-50 p-4 dark:from-gray-800 dark:to-gray-900",children:e.jsx("div",{className:"relative flex-1 overflow-hidden rounded-xl border border-gray-200 bg-white shadow-sm dark:border-gray-700 dark:bg-gray-800",children:e.jsx(C,{className:"border-none shadow-none",children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"grid gap-8",children:[t.user&&e.jsxs("div",{className:"space-y-4 rounded-xl border border-blue-100 bg-blue-50 p-4 dark:border-gray-700 dark:bg-gray-700/50",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-800 dark:text-blue-300",children:"Informasi Orang Tua"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Nama Orang Tua/Mewakili"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:t.user.name})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Email"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:t.user.email})]}),e.jsxs("div",{className:"space-y-1 md:col-span-1",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Alamat"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:t.user.alamat})]}),e.jsxs("div",{className:"space-y-1 md:col-span-1",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No. HP/Whatsapp"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:t.user.nohp})]})]})]}),e.jsxs(O,{className:"w-full",children:[e.jsxs(P,{children:[e.jsx(p,{children:e.jsx(l,{colSpan:5,className:"text-center text-lg font-semibold text-gray-100 dark:text-white",children:"Biodata Anak"})}),e.jsxs(p,{children:[e.jsx(l,{className:"w-10",children:"No."}),e.jsx(l,{children:"NIK"}),e.jsx(l,{children:"Nama"}),e.jsx(l,{children:"Tempat/Tanggal Lahir"}),e.jsx(l,{children:"Jenis Kelamin"})]})]}),e.jsx(L,{className:u?"opacity-50":"",children:o.length>0&&(o==null?void 0:o.map((a,i)=>e.jsxs(p,{children:[e.jsx(n,{children:i+1}),e.jsxs(n,{children:[" ",a.nik," "]}),e.jsxs(n,{children:[" ",a.nama," "]}),e.jsxs(n,{children:[" ",a.tempat_lahir,"/ ",a.tanggal_lahir," "]}),e.jsxs(n,{children:[" ",a.jenis_kelamin," "]})]},i)))})]}),x&&e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Rekomendasi Pemeriksaan"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Isi form berikut untuk melakukan klasifikasi"})]}),e.jsx(S,{submit:w,kriteria:x,setResult:f,data:j,setData:h,processing:u,errors:b})]})]})})})})})]})}export{le as default};
