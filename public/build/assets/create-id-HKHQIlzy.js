import{K as w,r as d,m as v,j as e,L as T}from"./app-DkENMDDi.js";import{C as S}from"./classify-pemeriksaan-BWOXNvMB.js";import{C as _,a as C}from"./card-C2pYnm-U.js";import{T as E,a as O,b as h,c as r,d as P,e as i}from"./table-DfmRdFnK.js";import{T as I}from"./use-mobile-navigation-C0TnDFnS.js";import{U as L}from"./user-auth-layout-D0iYafXe.js";import"./dialog-CBXCy03O.js";import"./index-CncXlmUa.js";import"./proxy-DGc97iCZ.js";import"./index-C0Dd2lmz.js";import"./input-CrC00T7e.js";import"./label-LkT8oDjs.js";import"./select-DrA4Z7mc.js";import"./check-BSXt6GuU.js";import"./react-icons.esm-BX7UEExa.js";import"./decision-tree-model-BsVNuXGa.js";import"./react-select-animated.esm-CrJte1-r.js";import"./input-error-BHrBfvX4.js";import"./table-dataset-sayuran-DqaQCEOw.js";import"./loader-circle-WvNlntcl.js";import"./main-layout-6dHanr_r.js";import"./sprout-DHa5r4Dz.js";function re({breadcrumb:m,balita:n,kriteria:c,orangtua:R}){const{auth:t}=w().props;d.useMemo(()=>m?m.map(a=>({title:a.title,href:a.href})):[],[m]);const[s,k]=d.useState(null),[o,p]=d.useState({title:"",show:!1,message:"",type:"success"}),f=new Date().toISOString().split("T")[0],{data:g,setData:x,post:y,processing:j,errors:N}=v({rme:"",nik:"",orang_tua_id:t.user.id.toString(),nama:"",tempat_lahir:"",tanggal_lahir:"",jenis_kelamin:"",alamat:"",tanggal_pemeriksaan:f,kriteria:c.map(a=>({nilai:null,kriteria_id:a.id.toString(),name:a.nama})),label:"",alasan:"",rekomendasi:[],gejala:"",usia_balita:"",detail:[],klasifikasiUsia:[],statusGizi:[]}),b=a=>{var l;a.preventDefault(),g.label==""?x("label",((l=s==null?void 0:s.label)==null?void 0:l.toString())??""):y(route("pemeriksaan.store"),{onError:u=>{console.log(u),p({title:"Error",show:!0,message:JSON.stringify(u),type:"error"})},preserveState:!0})};return d.useEffect(()=>{s&&s.label&&x("label",s.label.toString())},[s]),e.jsxs(L,{children:[e.jsx(T,{title:"Create"}),e.jsx(I,{open:o.show,onOpenChange:()=>p(a=>({...a,show:!1})),title:o.title,description:o.message,duration:5e3,variant:o.type}),e.jsx("div",{className:"dark:bg-elevation-1 flex h-full flex-1 flex-col gap-6 rounded-xl bg-gradient-to-br from-blue-50 to-indigo-50 p-4 dark:from-gray-800 dark:to-gray-900",children:e.jsx("div",{className:"relative flex-1 overflow-hidden rounded-xl border border-gray-200 bg-white shadow-sm dark:border-gray-700 dark:bg-gray-800",children:e.jsx(_,{className:"border-none shadow-none",children:e.jsx(C,{className:"p-6",children:e.jsxs("div",{className:"grid gap-8",children:[t.user&&e.jsxs("div",{className:"space-y-4 rounded-xl border border-blue-100 bg-blue-50 p-4 dark:border-gray-700 dark:bg-gray-700/50",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-800 dark:text-blue-300",children:"Informasi Orang Tua"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Nama Orang Tua/Mewakili"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:t.user.name})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Email"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:t.user.email})]}),e.jsxs("div",{className:"space-y-1 md:col-span-1",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Alamat"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:t.user.alamat})]}),e.jsxs("div",{className:"space-y-1 md:col-span-1",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No. HP/Whatsapp"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:t.user.nohp})]})]})]}),e.jsxs(E,{className:"w-full",children:[e.jsxs(O,{children:[e.jsx(h,{children:e.jsx(r,{colSpan:5,className:"text-center text-lg font-semibold text-gray-100 dark:text-white",children:"Biodata Anak"})}),e.jsxs(h,{children:[e.jsx(r,{className:"w-10",children:"No."}),e.jsx(r,{children:"NIK"}),e.jsx(r,{children:"Nama"}),e.jsx(r,{children:"Tempat/Tanggal Lahir"}),e.jsx(r,{children:"Jenis Kelamin"})]})]}),e.jsx(P,{className:j?"opacity-50":"",children:n.length>0&&(n==null?void 0:n.map((a,l)=>e.jsxs(h,{children:[e.jsx(i,{children:l+1}),e.jsxs(i,{children:[" ",a.nik," "]}),e.jsxs(i,{children:[" ",a.nama," "]}),e.jsxs(i,{children:[" ",a.tempat_lahir,"/ ",a.tanggal_lahir," "]}),e.jsxs(i,{children:[" ",a.jenis_kelamin," "]})]},l)))})]}),c&&e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Rekomendasi Pemeriksaan"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Isi form berikut untuk melakukan klasifikasi"})]}),e.jsx(S,{submit:b,kriteria:c,setResult:k,data:g,setData:x,processing:j,errors:N})]})]})})})})})]})}export{re as default};
