import{m as E,j as r,L as I}from"./app-TSYLOfGo.js";import{I as V}from"./input-error-CUJ1Dss0.js";import{B as q}from"./proxy-TbOm_buQ.js";import{I as B}from"./input-f--SAutY.js";import{L as m}from"./label-FQFUKQUs.js";import{S as h,a as f,b as g,c as j,f as N}from"./select-BdXchkXm.js";import{A as P}from"./app-layout-BObc0ifo.js";import{L as _}from"./loader-circle-C1u9jj0m.js";import"./index-DDb50-6D.js";import"./index-BnlWjsxb.js";import"./use-mobile-navigation-J1Bz5xez.js";import"./check-Bq2nwx4y.js";import"./react-icons.esm-BaeMcvOJ.js";import"./leafy-green-CT-BMrqA.js";import"./baby-Dz5xfkuS.js";function X({breadcrumb:c,kriteria:d,titlePage:y,dataset:l,opsiLabel:v}){const k=c?c.map(e=>({title:e.title,href:e.href})):[],{data:s,setData:o,put:S,processing:L,errors:u}=E({id:(l==null?void 0:l.id)??0,label:(l==null?void 0:l.label)||"",attribut:d.map(e=>{const a=l==null?void 0:l.detail.find(i=>Number(i.kriteria_id)===Number(e.id));return{kriteria_id:Number(e.id),nilai:(a==null?void 0:a.nilai)||null}})}),w=e=>{const{name:a,value:i}=e.target,t=a.split(".")[1],n=Number(i);if(!isNaN(n)){o(b=>({...b,attribut:b.attribut.map((x,D)=>D===Number(t)?{...x,nilai:i}:x)}));return}},p=(e,a)=>{e&&a!==void 0&&s&&s.attribut?o(e==="label"?i=>({...i,[e]:a}):i=>({...i,attribut:i.attribut.map((t,n)=>n===Number(e)?{...t,nilai:a}:t)})):console.error("Invalid data: name, value, or attribut may be undefined")},C=e=>{e.preventDefault(),S(route("admin.dataset.update",s.id),{onError:a=>{console.log(a)},onSuccess:()=>{}})};return r.jsxs(P,{breadcrumbs:k,children:[r.jsx(I,{title:y??"Edit Data Dataset Nutrisi"}),r.jsxs("div",{className:"mx-auto max-w-7xl rounded-xl border border-gray-100 bg-white p-6 shadow",children:[r.jsx("h1",{className:"mb-6 text-center text-xl font-semibold text-primary",children:"Edit Data Dataset Nutrisi"}),r.jsxs("form",{onSubmit:C,className:"space-y-6",children:[r.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:r.jsxs("div",{children:[r.jsx(m,{className:"text-xs text-gray-600",children:"Label"}),r.jsxs(h,{value:s.label,required:!0,onValueChange:e=>p("label",e),children:[r.jsx(f,{className:"input-minimal",children:r.jsx(g,{placeholder:"Pilih"})}),r.jsx(j,{children:v.map((e,a)=>r.jsx(N,{value:e.nama,children:e.nama},a))})]}),u.label&&r.jsx(V,{message:u.label,className:"mt-2"})]})}),r.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:d.map((e,a)=>e.nama.toLowerCase()==="jenis kelamin"?r.jsxs("div",{className:"space-y-2",children:[r.jsx(m,{className:"text-sm font-medium text-gray-700",children:e.nama}),r.jsxs(h,{value:s.attribut[a].nilai||"",required:!0,onValueChange:i=>p(a.toLocaleString(),i),children:[r.jsx(f,{className:"w-full rounded-lg border border-gray-300 px-4 py-3 focus:border-blue-500 focus:ring-2 focus:ring-blue-500",children:r.jsx(g,{placeholder:"Select "})}),r.jsx(j,{className:"rounded-lg border border-gray-200 shadow-lg",children:["Laki-laki","Perempuan"].map((i,t)=>r.jsx(N,{value:i,className:"px-4 py-2 hover:bg-gray-50",children:i},t))})]})]},a):r.jsxs("div",{children:[r.jsx(m,{className:"text-xs text-gray-600",children:e.nama}),r.jsx(B,{type:"text",name:`attribut.${a}`,value:s.attribut[a].nilai||"",onChange:w,className:"input-minimal",placeholder:`masukkan ${e.nama}`})]},a))}),r.jsx("div",{className:"flex justify-end",children:r.jsxs(q,{type:"submit",variant:"default",children:[L&&r.jsx(_,{className:"h-4 w-4 animate-spin"}),"Update Data"]})})]})]}),r.jsx("style",{children:`
                .input-minimal {
                    background: #f9fafb;
                    border: 1px solid #e5e7eb;
                    border-radius: 8px;
                    padding: 8px 12px;
                    font-size: 14px;
                    outline: none;
                    transition: border 0.2s;
                }
                .input-minimal:focus {
                    border-color: var(--color-primary, #2563eb);
                    background: #fff;
                }
                .bg-primary { background-color: var(--color-primary, #2563eb); }
                .bg-primary-dark { background-color: var(--color-primary-dark, #1d4ed8); }
                .text-primary { color: var(--color-primary, #2563eb); }
            `})]})}export{X as default};
